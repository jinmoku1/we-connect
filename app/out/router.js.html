<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: router.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: router.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Handles routing for all GET and POST requests for application
 * 
 * @module router
 * @requires module:controls/main_control
 * @requires module:controls/api_control
 * @requires module:controls/user_control
 * @requires module:controls/embedded_control
 * @requires module:controls/annc_control
 * @requires module:controls/admin_control
 */

var mainControl	= require('./controls/main_control');
var apiControl	= require('./controls/api_control');
var userControl	= require('./controls/user_control');
var embeddedControl = require('./controls/embedded_control');
var anncControl = require('./controls/annc_control');
var adminControl = require('./controls/admin_control');

/**
 * This function controls and handles all routing for GET and POST requests for all pages
 * and functionalities
 * 
 * @param {object} app The application framework - express
 */
exports.route = function (app) {
	// main
	app.get('/', mainControl.index);
	app.get('/about', mainControl.about);
	
	// account (user)
	app.get('/account/login', userControl.login);
	app.post('/account/login', userControl.loginPost);
	
	app.get('/account/logout', userControl.logout);
	
	app.get('/account/agreement', userControl.agreement);
	app.post('/account/agreement', userControl.agreementPost);
	
	app.get('/account/register/:userType', userControl.register);
	app.post('/account/register/validate', userControl.registerValidate);
	app.post('/account/register/:userType', userControl.registerPost);

	app.get('/setting', userControl.setting);
	app.post('/setting/profile', userControl.settingProfile);
	app.post('/setting/changePW', userControl.settingChangePW);
	app.post('/setting/additionalInfo', userControl.settingAdditionalInfo);
	
	// embedded view - used for ajax embedded view
	app.get('/embedded/profile/:id', embeddedControl.profile);
	app.get('/embedded/followers', embeddedControl.followers);
	app.get('/embedded/followings', embeddedControl.followings);
	app.get('/embedded/suggestedusers', embeddedControl.suggestedUsers);
	
	// api - used for light dynamic requests
	app.post('/api/follow', apiControl.follow);
	
	//announcement
	app.get('/announcement/create', anncControl.create);
	app.post('/announcement/create', anncControl.createPost);
	app.get('/announcement/:id', anncControl.detail);
	app.post('/announcement/bookmark', anncControl.bookmark);
	app.post('/announcement/unbookmark', anncControl.unbookmark);
	app.get('/announcement/edit/:id', anncControl.edit);
	app.post('/announcement/edit/:id', anncControl.editPost);
	app.post('/announcement/delete', anncControl.deletePost);
	app.post('/announcement/apply', anncControl.applyPost);

	app.post('/admin/approve', adminControl.approve);
	app.post('/admin/disapprove', adminControl.disapprove);
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="adminControl.html">controls/adminControl</a></li><li><a href="anncControl.html">controls/anncControl</a></li><li><a href="embeddedControl.html">controls/embeddedControl</a></li><li><a href="mainControl.html">controls/mainControl</a></li><li><a href="userControl.html">controls/userControl</a></li><li><a href="module-router.html">router</a></li><li><a href="module-session.html">session</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AnnRecSystem">AnnRecSystem</a></li><li><a href="global.html#connect">connect</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#db">db</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#followingAnnRecSystem">followingAnnRecSystem</a></li><li><a href="global.html#getAnncBriefByStatus">getAnncBriefByStatus</a></li><li><a href="global.html#getAnncDetailByStatus">getAnncDetailByStatus</a></li><li><a href="global.html#getBrief">getBrief</a></li><li><a href="global.html#getDetail">getDetail</a></li><li><a href="global.html#interests">interests</a></li><li><a href="global.html#remove">remove</a></li><li><a href="global.html#updateInfo">updateInfo</a></li><li><a href="global.html#userRecsystem">userRecsystem</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Sun May 04 2014 19:28:31 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
