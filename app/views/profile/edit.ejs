<%- include ../partials/header.ejs %>

<div style="width: 560px; margin:auto;">
	<h1><%=title%></h1>

	<form id="editForm" class="form-horizontal" method="post">
		<div class="form-group">
			<label class="col-sm-3 control-label" for="firstName">First Name</label>
			<div class="col-sm-9">
				<input type="text" id="firstName" value="<%=user.firstName%>" placeholder="First Name" name="firstName" class="form-control" required />
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label" for="lastName">Last Name</label>
			<div class="col-sm-9">
				<input type="text" id="lastName" value="<%=user.lastName%>" placeholder="Last Name" name="lastName" class="form-control" required />
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Department</label>
			<div class="col-sm-9">
				<select id="department" value="<%=user.departments%>" class="form-control" name="department" required>
				<% for (var i in departments) { %>
					<option value="<%=departments[i]%>"><%=departments[i]%></option>
				<% } %>
				</select>
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Interests</label>
			<div class="col-sm-9">
			<% for (var i in interests) { %>
				<div class="checkbox col-sm-6">
					<label>
						<%
						var exists = 0;
						for (var j in user.interests){
							if (user.interests[j] == interests[i]){
								exists = 1;
								break;
							}
						}
						if (exists){ %>
							<input type="checkbox" name="interests" value="<%=interests[i]%>" checked="checked"/>
							<%=interests[i]%>
						<% } else { %>
							<input type="checkbox" name="interests" value="<%=interests[i]%>" />
							<%=interests[i]%>
						<% } %>
					</label>
				</div>
			<% } %>
			</div>
		</div>
		<% if (user.userType == userConst.TYPE_STUDENT) { %>
			<div class="form-group">
				<label class="col-sm-3 control-label">Degree</label>
				<div class="col-sm-9">
					<select id="degree" class="form-control" name="degree" required>
					<% for (var i in degrees) { 
						if (user.degree == degrees[i]){
						%>
						<option value="<%=degrees[i]%>" selected="selected"><%=degrees[i]%></option>
						<%
					} else{ %>
						<option value="<%=degrees[i]%>"><%=degrees[i]%></option>
					<% } }%>
				</select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Standing</label>
				<div class="col-sm-9">
					<select id="classStanding" class="form-control" name="classStanding" required>
					<% for (var i in classStandings) { 
						if (user.classStanding == classStandings[i]){
						%>
						<option value="<%=classStandings[i]%>" selected="selected"><%=classStandings[i]%></option>
						<%
					} else{ %>
						<option value="<%=classStandings[i]%>"><%=classStandings[i]%></option>
					<% } }%>
					</select>
				</div>
			</div>
		<% } else if (user.userType == userConst.TYPE_FACULTY) { %>
			<div class="form-group">
				<label class="col-sm-3 control-label" for="websiteUrl">Website</label>
				<div class="col-sm-9">
					<input type="text" id="websiteUrl" value="<%=user.websiteUrl%>" name="websiteUrl" class="form-control" />
				</div>
			</div>
		<% } %>
		<div class="form-group">
			<div class="col-sm-offset-3 col-sm-9">
				<button type="submit" class="btn btn-primary">Update Profile</button>
			</div>
		</div>
	</form>
</div>

<%- include ../partials/footer.ejs %>